
<script src="/Areas/OG/Scripts/ViewScripts/Physical/meal-event.js"></script>

<!-- Meal Event -->
<div class="meal meal-event">
    <div class="container-fluid">
        <div class="row no-gutters">
            <div class="col-md-12 col-lg-12">
                <div class="header">
                    <input type="checkbox" onclick="onSelectableClicked(this)"><label for="allow-event-edit">Selectable</label>
                    <h2 class="meal-title" style="text-align: center; margin-bottom: 20px;"></h2>
                    <a class="show-search" data-toggle="collapse" href="#mealSearch" role="button" aria-expanded="false" style="margin-top:-50px; margin-right:30px; float:right; display:block;">
                        <i class="fa fa-search" aria-hidden="true"></i>
                    </a>
                </div>
                <!-- Search Items -->
                <div id="mealSearch" class="search collapse">
                    <div class="single">
                        <!-- Searchbar -->
                        <div class="searchbar" style="padding-right: 76px;">
                            <input class="form-control" type="text" placeholder="Search" style="width: 100%; max-width: none;" />
                            <div style="float: right; margin-top: -40px; margin-right: -76px;">
                                <button class="btn btn-success search" onclick="onSearchSingleItems()"><i class="fa fa-search" aria-hidden="true"></i></button>
                                <button class="btn btn-success change" type="button" onclick="displayMultipleSearch()"><i class="fa fa-bars" aria-hidden="true"></i></button>
                            </div>
                        </div>
                        <div class="tab-strip-wrapper">
                            <!-- Tab Strip - Single Search -->
                            <div class="search-tab-strip" style="margin-top: 10px;">
                                <ul>
                                    @*<li data-tab="all">All</li>*@
                                    <li data-tab="recent">Recent</li>
                                    <li data-tab="upc">UPC</li>
                                    <li data-tab="branded">Branded</li>
                                    <li data-tab="common">Common</li>
                                    @*<li data-tab="meals">Meals</li>*@
                                </ul>

                                <!-- Tab Strip Tabs with Grid - Single Search -->
                                @*<div class="add-tab">
                                    <div class="meal-grid-wrapper">
                                        <div class="meal-grid"></div>
                                        <button class="select-meal-results  btn btn-primary" type="button" onclick="onAddMealResultsClicked(this)">Add Selected</button>
                                    </div>
                                </div>*@
                                <div class="recent-tab">
                                    <div class="meal-grid-wrapper">
                                        <div class="meal-grid"></div>
                                        <button class="select-meal-results  btn btn-primary" type="button" onclick="onAddMealResultsClicked(this)">Add Selected</button>
                                    </div>
                                </div>
                                <div class="upc-tab">
                                    <div class="meal-grid-wrapper">
                                        <div class="meal-grid"></div>
                                        <button class="select-meal-results  btn btn-primary" type="button" onclick="onAddMealResultsClicked(this)">Add Selected</button>
                                    </div>
                                </div>
                                <div class="branded-tab">
                                    <div class="meal-grid-wrapper">
                                        <div class="meal-grid"></div>
                                        <button class="select-meal-results  btn btn-primary" type="button" onclick="onAddMealResultsClicked(this)">Add Selected</button>
                                    </div>
                                </div>
                                <div class="common-tab">
                                    <div class="meal-grid-wrapper">
                                        <div class="meal-grid"></div>
                                        <button class="select-meal-results  btn btn-primary" type="button" onclick="onAddMealResultsClicked(this)">Add Selected</button>
                                    </div>
                                </div>
                                @*<div class="meals-tab">
                                    <div class="meal-grid-wrapper">
                                        <div class="meal-grid"></div>
                                        <button class="select-meal-results  btn btn-primary" type="button" onclick="onAddMealResultsClicked(this)">Add Selected</button>
                                    </div>
                                </div>*@
                            </div>
                        </div>
                    </div>
                    <!-- Multiple Item Search -->
                    <div class="multiple" hidden>
                        <div class="searchbar">
                            <textarea class="form-control" rows="2" placeholder="Search" style="max-width: none;"></textarea>
                            <div style="float: right; margin-top: -40px; margin-right: -76px;">
                                <button class="btn btn-success search" onclick="onSearchMultipleItems()">Search <i class="fa fa-search" aria-hidden="true"></i></button><button class="btn btn-success change" type="button" onclick="displaySingleSearch()"><i class="fa fa-minus" aria-hidden="true"></i></button>
                            </div>
                        </div>
                        <!-- Search Results Grid - Multiple Item Search -->
                        <div class="meal-grid-wrapper">
                            <div class="meal-grid" style="margin-top: 15px;" hidden></div>
                        </div>
                    </div>
                </div>
                <!-- Planned Items -->
                <div class="planned-items">
                    <!-- Grid - Planned Items -->
                    <div class="meal-grid-wrapper">
                        <div class="meal-grid"></div>
                    </div>
                </div>
                <!-- Water -->
                <div class="water-log" style="width: 50%; float:left;">
                    <div class="tally-buttons" style="margin: auto; width: 50px;">
                        <button type="button" onclick="addMealWater()">+</button>
                        <button type="button" onclick="subtractMealWater()">-</button>
                        <button type="button" onclick="logMealWater()">Save</button>
                    </div>
                    <img src="/Areas/OG/Content/Images/ViewImages/Physical/Cup of Water.png" height="100" style="display:block; margin:auto;" />
                    <div class="tally-amount" style="margin: auto; width: 100px;">
                        <ul>
                            <li>
                                <label class="water-amount radio">
                                    <input type="radio" name="water-amount" value="1" />
                                    <span>1oz</span>
                                    <img src="">
                                </label>
                            </li>
                            <li>
                                <label class="water-amount radio">
                                    <input type="radio" name="water-amount" value="8" checked />
                                    <span>8oz</span>
                                    <img src="">
                                </label>
                            </li>
                            <li>
                                <label class="water-amount radio">
                                    <input type="radio" name="water-amount" value="12" />
                                    <span>12oz</span>
                                    <img src="">
                                </label>
                            </li>
                            <li>
                                <label class="water-amount radio">
                                    <input type="radio" name="water-amount" value="32" />
                                    <span>32oz</span>
                                    <img src="">
                                </label>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- Macro Chart -->
                <div class="macro-chart" style="width: 50%; float:left;"></div>
                <div class="meal-chart" style="margin-top: 200px"></div>
            </div>

        </div>
    </div>
</div>

<!-- Food Item Search Result Template-->
<script id="food-item-search-result-template" type="text/x-kendo-template">
    #if (itemType == "Common Foods") {#
    <div class="food-item-search-result">
        <img class='search-item img-responsive img-rounded' src='#:photoThumb#' height=50 style="float:left" />
        <div style="display:flex; flex-direction: column; float:left;">
            <span>#:food_name#</span>
            <div style="color:\\#999;">
                <span>#:serving_qty#</span>
                <span>#:serving_unit#</span>
            </div>
        </div>
    </div>
    #} else if (itemType == "Branded Foods") {#
    <div class="food-item-search-result">
        <img class='search-item img-responsive img-rounded' src='#:photoThumb#' height=50 style="float:left" />
        <div style="display:flex; flex-direction: column; float:left;">
            <span>#:food_name#</span>
            <div style="color:\\#999;">
                <span>#:brand_name#</span>
                <span>#:serving_qty#</span>
                <span>#:serving_unit#</span>
            </div>
        </div>
        <div style="float:right;">
            <div style="display:flex; flex-direction: column;">
                <span style="color:\\#28A54C;">#: nf_calories #</span>
                <span>cal</span>
            </div>
        </div>
    </div>
    #}#
</script>

<script id="meal-grid-wrapper-template" type="text/x-kendo-template">
    <div class="meal-grid-wrapper #:wrapperClass#">
        <div class="meal-grid"></div>
    </div>
</script>

<script id="result-grid-footer-template" type="text/x-kendo-template">
    <div class="result-footer-container" style="height:34px;">
        <button class='select-meal-results btn btn-primary' type='button' onclick='onAddMealResultsClicked(this)' style="display: none;">Add</button>
    </div>
</script>

<script id="planned-grid-footer-template" type="text/x-kendo-template">
    <div class="result-footer-container" style="height:34px;">
        <button class='save-meal btn btn-primary' type='button' onclick='onSaveMealClicked(this)' style="display: none;">Save</button>
        <button class='remove-meal-item btn btn-primary' type='button' onclick='onRemoveMealItemClicked(this)' style="display: none;">Remove</button>
    </div>
</script>

<style>
    body {
        overflow-y: auto;
    }
    /*tbody[role=rowgroup] tr td:first-child {
        background-color: white;
    }*/

    .food-item-search-result {
        min-height: 50px;
        padding: 5px 0;
    }

        .food-item-search-result > * {
            padding: 0 20px;
            /*line-height: 50px;*/
            /*text-align: center;*/
        }

    img.search-item {
        height: 40px;
    }

    div.k-grid-footer, div.k-grid-header {
        padding: 0px !important;
    }

    /* Searchbar - Single */
    .meal .search .single .searchbar input {
        height: 40px;
        font-size: 18px;
        padding-left: 10px;
        border-bottom-right-radius: 0px !important;
        border-top-right-radius: 0px;
    }

    .meal .search .single button.search {
        border-radius: 0px;
        width: 40px;
    }

    .meal .search .single button.change {
        border-top-left-radius: 0px;
        border-bottom-left-radius: 0px;
    }

    /* Tab Strip Tabs */
    .k-tabstrip > .k-content {
        margin: 0px;
        padding: 0px;
    }

    .search-tab-strip li.k-state-active {
        color: #ff6358 !important;
        border: none !important;
        border-bottom: 2px solid #ff6358 !important;
        background-color: transparent !important;
    }

    .search-tab-strip .k-link {
        font-weight: 500;
    }

    .search-tab-strip .k-state-active .k-link {
        color: #ff6358 !important;
    }

    .search-tab-strip .k-loading {
        border: none !important;
    }

    .search .single, .search .multiple {
        margin-top: 10px;
    }

    /* Textarea */
    .meal .search .multiple textarea {
        font-size: 18px;
        padding-left: 10px;
    }

    .meal .search .multiple button.search {
        border-top-right-radius: 0px;
        border-bottom-right-radius: 0px;
    }

    .meal .search .multiple button.change {
        border-top-left-radius: 0px;
        border-bottom-left-radius: 0px;
    }

    .search .searchbar button {
        height: 40px;
    }

    img.food-item {
        height: 40px;
    }

    /* ------------------ Meal Grid ------------------ */
    .meal-grid {
        border: none;
        box-sizing: border-box;
    }

        /* Header */
        .meal-grid .k-grid-header-wrap {
            background-color: lightgray;
            border-right: none;
        }

        /* Header */
        .meal-grid .k-grid-header {
            background-color: transparent;
            border-top: none;
            border-left: none;
            border-right: none;
        }

            /* Header-Cell */
            .meal-grid .k-grid-header th.k-header {
                color: #313131;
                background-color: transparent;
                border-top: none;
                border-left: none;
                border-right: none;
                font-weight: bold;
            }

    .k-grid td {
        border-width: 1px 0 0 0;
    }

    /*.k-grid tbody[role=rowgroup] {
        border-right-width: 1px;
    }*/

    .k-grid tbody[role=rowgroup] tr:first-child td {
        border-top-width: 0;
    }

    .k-grid tbody[role=rowgroup] tr:last-child td {
        border-bottom-width: 1px;
    }

    .planned.k-grid tbody[role=rowgroup] tr td:first-child {
        border-top-width: 0;
    }

    /*.k-grid tbody[role=rowgroup] tr:last-child td:first-child {
        border-bottom-width: 0;
    }*/

    /*.k-grid tbody[role=rowgroup] tr td:first-child {
        border-left-width: 1px;
    }

    .k-grid tbody[role=rowgroup] tr td:last-child {
        border-right-width: 1px;
    }*/

    .k-grid-header tr:hover, .k-footer-template:hover {
        background-color: transparent !important;
    }

    .k-grid-footer-wrap {
        border-width: 0;
    }

    .k-grid-footer {
        border-bottom-width: 0 !important;
    }

        .k-grid-footer, .k-grid-footer td {
            background-color: transparent;
            border: none;
            border-width: 0;
        }

    .k-footer-template td {
        padding: 0;
    }

    .k-footer-template .wrapper.total > div {
        background-color: #fafafa;
        /*height: 34px;*/
        text-align: center;
        line-height: 34px;
    }

    .k-footer-template td .aggregate {
        /*background-color: #fafafa;
        height: 34px;
        text-align: center;
        line-height: 34px;*/
        /*border-bottom: solid 1px #e6e6e6;*/
    }

    /*.k-footer-template td .aggregate:first-child {
        border-left: solid 1px #e6e6e6;
    }

    .k-footer-template td .aggregate:last-child {
        border-right: solid 1px #e6e6e6;
    }*/

    .k-footer-template td:nth-child(1), td:nth-child(2), td:nth-child(3) {
        overflow: visible;
    }

    .meal-event .planned-items .meal-grid {
        margin-top: 15px;
    }

    /*button.select-meal-results:parent {
                    overflow-x: visible;
                }*/

    /* ------------------ Water Log ------------------ */

    .tally-amount ul {
        padding: 0px;
        list-style: none;
        display: flex;
        justify-content: center;
    }

        .tally-amount ul li {
            margin: 2px;
        }

    .tally-amount label.water-amount { /* IMAGE STYLES */
        font-size: 12px;
        text-align: center;
        width: 40px;
        padding: 0px;
        cursor: pointer;
        border: 1px solid lightblue;
        border-radius: 30px;
    }

    .tally-amount label > input { /* HIDE RADIO */
        visibility: hidden; /* Makes input not-clickable */
        position: absolute; /* Remove input from document flow */
    }

        .tally-amount label > input + img { /* IMAGE STYLES */
            cursor: pointer;
            border: 2px solid transparent;
        }

        .tally-amount label > input:checked + img { /* (RADIO CHECKED) IMAGE STYLES */
            border: 2px solid #f00;
        }
</style>
